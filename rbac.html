<!DOCTYPE html>
<html>

<head>
  <title>RBAC HTML Table</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <div>
    <h1>Task #1</h1>
    <div class="activity">
      <p><strong>Task Description:</strong> In this task, you will be presented with a real-world scenario and asked to
        implement a proper permission policy. You will need to identify the correct entity, permission (ALLOW/DENY), and
        targeted resources to effectively address the situation. </p>

      <div class="scenario">
        <h2>Scenario:</h2>
        <p>A new employee has joined the company and requires access to employee information. You need to create a
          permission
          policy that allows the employee to view employee information.</p>
      </div>

      <div class="question">
        <h2>Question:</h2>
        <p>What entity, permission, and targeted resources do you need to include in the permission policy to address
          this situation?</p>
        <form>
          <label for="entity">Entity:</label>
          <select id="entity">
            <option value="">Select entity</option>
            <option value="employee">Employee</option>
            <option value="HR">HR</option>
            <option value="manager">Manager</option>
          </select>

          <label for="permission">Permission:</label>
          <select id="permission">
            <option value="">Select permission</option>
            <option value="allow">Allow</option>
            <option value="deny">Deny</option>
          </select>

          <label for="resources">Targeted resources:</label>
          <select id="resources">
            <option value="">Select resources</option>
            <option value="employee-info">Employee information</option>
            <option value="salary">Salary information</option>
            <option value="performance-review">Performance review information</option>
          </select>

          <button id="submit-btn" type="button">Submit</button>
        </form>
      </div>

      <div class="feedback">
        <h2>Feedback:</h2>
        <p class="result"></p>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        $('#submit-btn').click(function (event) {
          event.preventDefault();

          var entity = $('#entity').val();
          var permission = $('#permission').val();
          var resources = $('#resources').val();

          if (entity && permission && resources) {
            if (entity === 'employee' && permission === 'allow' && resources === 'employee-info') {
              $('.result').text('Correct! The employee should be allowed to view employee information.').addClass('correct').removeClass('incorrect');
            } else {
              $('.result').text('Incorrect. Please try again.').addClass('incorrect').removeClass('correct');
            }
          } else {
            $('.result').text('Please select all options.').addClass('incorrect').removeClass('correct');
          }
        });
      });
    </script>
  </div>

  <div>
    <h1>Task #2</h1>
    <div class="activity">
      <p><strong>Task Description:</strong> In this task, you will be presented with a real-world scenario and asked to
        implement a proper permission policy. You will need to identify the correct entity, permission (ALLOW/DENY), and
        targeted resources to effectively address the situation. </p>

      <div class="scenario">
        <h2>Scenario:</h2>
        <p>A new employee has joined the company. As the employee has no HR responsibilities nor is a Manager, you want
          to ensure that the employee cannot accidentally access the confidential salary information. You need to create
          a permission policy that denies the employee access to salary information.
        </p>
      </div>

      <div class="question">
        <h2>Question:</h2>
        <p>What entity, permission, and targeted resources do you need to include in the permission policy to address
          this
          situation?</p>
        <form>
          <label for="entity2">Entity:</label>
          <select id="entity2">
            <option value="">Select entity</option>
            <option value="employee">Employee</option>
            <option value="HR">HR</option>
            <option value="manager">Manager</option>
          </select>

          <label for="permission2">Permission:</label>
          <select id="permission2">
            <option value="">Select permission</option>
            <option value="allow">Allow</option>
            <option value="deny">Deny</option>
          </select>

          <label for="resources2">Targeted resources:</label>
          <select id="resources2">
            <option value="">Select resources</option>
            <option value="employee-info">Employee information</option>
            <option value="salary">Salary information</option>
            <option value="performance-review">Performance review information</option>
          </select>

          <button id="submit-btn2" type="button">Submit</button>
        </form>
      </div>

      <div class="feedback">
        <h2>Feedback:</h2>
        <p class="result2"></p>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        $('#submit-btn2').click(function (event) {
          event.preventDefault();

          var entity = $('#entity2').val();
          var permission = $('#permission2').val();
          var resources = $('#resources2').val();

          if (entity && permission && resources) {
            if (entity === 'employee' && permission === 'deny' && resources === 'salary') {
              $('.result2').text('Correct! The employee should be denied access to salary information.').addClass('correct').removeClass('incorrect');
            } else {
              $('.result2').text('Incorrect. Please try again.').addClass('incorrect').removeClass('correct');
            }
          } else {
            $('.result2').text('Please select all options.').addClass('incorrect').removeClass('correct');
          }
        });
      });
    </script>
  </div>

  <div>
    <h1>Task #3</h1>
    <p><strong>Task Description:</strong> In this task, you are provided with:</p>
    <ul>
      <li>A membership policy table</li>
      <li>An interactive table named "Membership Evaluation"</li>
    </ul>
    <p>The "Membership Evaluation" table contains a sequence of questions. You need to answer the questions by
      selecting the correct option from the drop-down menu. The table will then display whether your answer is correct
      or not.
    </p>

    <h2>Membership Policy Table</h2>
    <table>
      <thead>
        <tr>
          <th>Member</th>
          <th>Group</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>User A</td>
          <td>Group A</td>
          <td>User A is a member of Group A</td>
        </tr>
        <tr>
          <td>Group A</td>
          <td>Group B</td>
          <td>Group A is a member of Group B</td>
        </tr>
      </tbody>
    </table>



    <h2>Membership Evaluation</h2>
    <table>
      <thead>
        <tr>
          <th>User</th>
          <th>Is User A a member of Group A?</th>
          <th>Is User A a member of Group B?</th>
          <th>Is User A a member of Group C?</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>User A</td>
          <td>
            <select id="user-a-group-a">
              <option value="">Select option</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
          <td>
            <select id="user-a-group-b">
              <option value="">Select option</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
          <td>
            <select id="user-a-group-c">
              <option value="">Select option</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="feedback">
      <h2>Feedback:</h2>
      <ul>
        <li class="user-a-group-a"></li>
        <li class="user-a-group-b"></li>
        <li class="user-a-group-c"></li>
      </ul>
    </div>

    <script>
      $(document).ready(function () {
        $('#user-a-group-a').change(function () {
          evaluateMembershipA();
        });

        $('#user-a-group-b').change(function () {
          evaluateMembershipB();
        });

        $('#user-a-group-c').change(function () {
          evaluateMembershipC();
        });

        function evaluateMembershipA() {
          var userAGroupA = $('#user-a-group-a').val();

          if (userAGroupA) {
            if (userAGroupA === 'yes') {
              $('.user-a-group-a').text('Correct - User A is a member of Group A, as shown in the membership policy table.').addClass('correct').removeClass('incorrect');
            } else {
              $('.user-a-group-a').text('Incorrect. User A is a member of Group A, as shown in the membership policy table.').addClass('incorrect').removeClass('correct');
            }
          }
        }

        function evaluateMembershipB() {
          var userAGroupB = $('#user-a-group-b').val();

          if (userAGroupB) {
            if (userAGroupB === 'yes') {
              $('.user-a-group-b').text('Correct - User A is a member of Group A and Group A is a member of Group B. Therefore, User A is also a member of Group B.').addClass('correct').removeClass('incorrect');
            } else {
              $('.user-a-group-b').text('Incorrect - User A is a member of Group A and Group A is a member of Group B. Therefore, User A is also a member of Group B.').addClass('incorrect').removeClass('correct');
            }
          }
        }

        function evaluateMembershipC() {
          var userAGroupC = $('#user-a-group-c').val();

          if (userAGroupC) {
            if (userAGroupC === 'no') {
              $('.user-a-group-c').text('Correct - User A is not a member of Group C, as there is no indication of User A being a member of Group C in the membership policy table.').addClass('correct').removeClass('incorrect');
            } else {
              $('.user-a-group-c').text('Incorrect - User A is not a member of Group C, as there is no indication of User A being a member of Group C in the membership policy table.').addClass('incorrect').removeClass('correct');
            }
          }
        }
      });
    </script>
  </div>

  <div>
    <h1>Task #4</h1>
    <p><strong>Task Description:</strong> In this task, you are provided with two tables - a permission policy table and
      a membership policy table.
      Please select all the relevant policies that are needed to determine whether User A can access Salary data.</p>
    <h2>Permission Policy</h2>
    <table>
      <thead>
        <tr>
          <th>Policy</th>
          <th>Role</th>
          <th>Resource</th>
          <th>Permission</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>A</td>
          <td>HR team</td>
          <td>Employee performance data</td>
          <td>ALLOW</td>
          <td>Policy A allows the HR team to access employee performance data.</td>
        </tr>
        <tr>
          <td>B</td>
          <td>Payroll team</td>
          <td>Salary data</td>
          <td>ALLOW</td>
          <td>Policy B allows the Payroll team to access salary data.</td>
        </tr>
      </tbody>
    </table>

    <h2>Membership Policy</h2>
    <table>
      <thead>
        <tr>
          <th>Policy</th>
          <th>Member</th>
          <th>Group</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>C</td>
          <td>User A</td>
          <td>Payroll team</td>
          <td>User A is a member of the Payroll team.</td>
        </tr>
        <tr>
          <td>D</td>
          <td>Payroll team</td>
          <td>HR team</td>
          <td>The Payroll team is a member of the HR team.</td>
        </tr>
      </tbody>
    </table>
    <div class="activity">
      <h2>Select all the Relevant Policies</h2>
      <p>Select all the relevant policies that are needed to determine whether User A can access Salary data:</p>

      <form id="task4-form">
        <div class="policy">
          <input type="checkbox" id="task4-policy-a">
          <label for="task4-policy-a">Policy A</label>
        </div>
        <div class="policy">
          <input type="checkbox" id="task4-policy-b">
          <label for="task4-policy-b">Policy B</label>
        </div>
        <div class="policy">
          <input type="checkbox" id="task4-policy-c">
          <label for="task4-policy-c">Policy C</label>
        </div>
        <div class="policy">
          <input type="checkbox" id="task4-policy-d">
          <label for="task4-policy-d">Policy D</label>
        </div>

        <button type="submit">Submit</button>
      </form>

      <div id="task4-feedback"></div>
    </div>

    <script>
      $(document).ready(function () {
        $('#task4-form').submit(function (event) {
          event.preventDefault();

          var policyASelected = $('#task4-policy-a').prop('checked');
          var policyBSelected = $('#task4-policy-b').prop('checked');
          var policyCSelected = $('#task4-policy-c').prop('checked');
          var policyDSelected = $('#task4-policy-d').prop('checked');

          if (policyBSelected && policyCSelected && policyDSelected && !policyASelected) {
            $('#task4-feedback').html('<p class="result correct">Correct! Policies B, C, and D are needed to determine whether User A can access Salary data.</p>');
          } else {
            var missingPolicies = [];
            if (!policyBSelected) {
              missingPolicies.push('Policy B');
            }
            if (!policyCSelected) {
              missingPolicies.push('Policy C');
            }
            if (!policyDSelected) {
              missingPolicies.push('Policy D');
            }
            if (policyASelected) {
              $('#task4-feedback').html('<p class="result incorrect">Incorrect. Policy A is not needed to determine whether User A can access Salary data.</p>');
            } else if (missingPolicies.length === 1) {
              $('#task4-feedback').html('<p class="result incorrect">Incorrect. The missing policy is: ' + missingPolicies[0] + '.</p>');
            } else if (missingPolicies.length > 1) {
              $('#task4-feedback').html('<p class="result incorrect">Incorrect. The missing policies are: ' + missingPolicies.join(', ') + '.</p>');
            } else {
              $('#task4-feedback').html('<p class="result incorrect">Incorrect. Please select the policies that are needed to determine whether User A can access Salary data.</p>');
            }
          }
        });
      });
    </script>

    <div class="activity">
      <h2>Permission Evaluation</h2>
      <form id="task4-form2">
        <label for="task4-q2-permission">Please select whether the system should ALLOW or DENY User A's access to Salary data:</label>
        <select id="task4-q2-permission">
          <option value="">Select option</option>
          <option value="allow">ALLOW</option>
          <option value="deny">DENY</option>
        </select>
        <button type="submit">Submit</button>
      </form>
      <div id="task4-feedback2"></div>
    </div>
    <script>
      $(document).ready(function () {
        $('#task4-form2').submit(function (event) {
          event.preventDefault();

          var selectedPermission = $('#task4-q2-permission').val();

          if (selectedPermission === 'allow') {
            $('#task4-feedback2').html('<p class="result correct">Correct! User A is allowed to access Salary data.</p>');
          } else {
            $('#task4-feedback2').html('<p class="result incorrect">Incorrect. User A is allowed to access Salary data.</p>');
          }
        });
      });
    </script>
  </div>



  <div>
    <h1>Task #5</h1>
    <p><strong>Task Description:</strong> In this task, you are provided with:</p>
    <ul>
      <li>Two tables - a permission policy table and a membership policy table</li>
      <li>An interactive table named "Permission Evaluation"</li>
    </ul>
    <p>The "Permission Evaluation" table contains a sequence of questions. You need to answer the questions by
      selecting
      the correct option from the drop-down menu. The table will then display whether your answer is correct or not.
    </p>
    <h2>Permission Policy</h2>
    <table>
      <tr>
        <th>Policy</th>
        <th>Role</th>
        <th>Resource</th>
        <th>Permission</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>A</td>
        <td>HR team</td>
        <td>Employee performance data</td>
        <td>ALLOW</td>
        <td>Policy A allows the HR team to access employee performance data.</td>
      </tr>
      <tr>
        <td>B</td>
        <td>Payroll team</td>
        <td>Salary data</td>
        <td>ALLOW</td>
        <td>Policy B allows the Payroll team to access salary data.</td>
      </tr>
    </table>

    <h2>Membership policy</h2>
    <table>
      <tr>
        <th>Policy</th>
        <th>Member</th>
        <th>Group</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>C</td>
        <td>User A</td>
        <td>Payroll team</td>
        <td>User A is a member of the Payroll team</td>
      </tr>
      <tr>
        <td>D</td>
        <td>Payroll team</td>
        <td>HR team</td>
        <td>The Payroll team is a member of the HR team</td>
      </tr>
    </table>

    <!-- 
      A "Permission Evaluation" table:

      This is an interactive table that ask the learner to enter whether a user can access certain resources.

      The learner can enter "ALLOW" or "DENY" in the input field.

      The table will then display the correctness of the user's input.

      The table contains the following questions:
      whether User A can access Employee performance data
      whether User A can access Salary data
      whether User A can access Financial data
    -->
    <h2>Permission Evaluation</h2>
    <table>
      <tr>
        <th>Entity</th>
        <th>Resource</th>
        <th>Permission</th>
        <th>Feedback</th>
      </tr>
      <tr>
        <td>User A</td>
        <td>Employee performance data</td>
        <td>
          <select id="q1">
            <option value="">Select an option</option>
            <option value="ALLOW">ALLOW</option>
            <option value="DENY">DENY</option>
            <option value="I don't know">I don't know</option>
          </select>
        </td>
        <td id="ans1"></td>
      </tr>
      <tr>
        <td>User A</td>
        <td>Salary data</td>
        <td>
          <select id="q2">
            <option value="">Select an option</option>
            <option value="ALLOW">ALLOW</option>
            <option value="DENY">DENY</option>
            <option value="I don't know">I don't know</option>
          </select>
        </td>
        <td id="ans2"></td>
      </tr>
      <tr>
        <td>User A</td>
        <td>Financial data</td>
        <td>
          <select id="q3">
            <option value="">Select an option</option>
            <option value="ALLOW">ALLOW</option>
            <option value="DENY">DENY</option>
            <option value="I don't know">I don't know</option>
          </select>
        </td>
        <td id="ans3"></td>
      </tr>
    </table>


    <script>
      const ans1 = "ALLOW";
      const ans2 = "ALLOW";
      const ans3 = "DENY";

      const q1 = document.getElementById("q1");
      const q2 = document.getElementById("q2");
      const q3 = document.getElementById("q3");
      const a1 = document.getElementById("ans1");
      const a2 = document.getElementById("ans2");
      const a3 = document.getElementById("ans3");

      q1.addEventListener("blur", checkAnswer1);
      q2.addEventListener("blur", checkAnswer2);
      q3.addEventListener("blur", checkAnswer3);

      function checkAnswer1() {
        if (q1.value.toUpperCase() === ans1) {
          a1.innerHTML = "Correct";
          a1.className = "correct";
        } else {
          a1.innerHTML = "Incorrect. Please refer to policy C, D, and A.";
          a1.className = "incorrect";
        }
      }

      function checkAnswer2() {
        if (q2.value.toUpperCase() === ans2) {
          a2.innerHTML = "Correct";
          a2.className = "correct";
        } else {
          a2.innerHTML = "Incorrect. Please refer to policy C and B.";
          a2.className = "incorrect";
        }
      }

      function checkAnswer3() {
        if (q3.value.toUpperCase() === ans3) {
          a3.innerHTML = "Correct";
          a3.className = "correct";
        } else {
          a3.innerHTML = "Incorrect. No policy allows User A to access Financial data.";
          a3.className = "incorrect";
        }
      }
    </script>

    <div>
      <div class="skills-container">
        <h3>Skill bars</h3>

        <div class="skill">
          <div class="skill-name">Manage Users and Groups</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 100%;">100%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Create and interpret ALLOW and DENY Policies</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 30%;">30%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Recognize Inheritance of Membership</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 50%;">50%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Recognize Inheritance of Permissions</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 0%;">0%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Recognize Default Permission</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 0%;">0%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Analyze Overwrite of Permissions</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 0%;">0%</div>
          </div>
        </div>

        <div class="skill">
          <div class="skill-name">Interpret an Organizational Chart</div>
          <div class="skill-bar">
            <div class="skill-level" style="width: 0%;">0%</div>
          </div>
        </div>
      </div>


      <script>
        $(document).ready(function () {
          $('.skill-level').each(function () {
            var level = $(this).text().replace('%', '');
            $(this).animate({
              width: level + '%'
            }, 1000);
          });
        });

      </script>
    </div>
  </div>
</body>

</html>